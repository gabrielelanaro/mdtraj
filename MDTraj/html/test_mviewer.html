<html>
	<head>
		<title>My first Three.js app</title>
		<style>canvas { width: 100%; height: 100% }</style>
	</head>
	<body>
		<script src="static/three.min.js"></script>
		<script src="static/TrackballControls.js"></script>
		<script type='text/javascript' src="static/molecularviewer.js"></script>
		<script src="http://code.jquery.com/jquery-latest.min.js" type="text/javascript"></script>
		<link rel="stylesheet" href="static/jquery-ui.min.css">
		<script src="static/jquery-ui.min.js" type="text/javascript"></script>
		
		 <p> Hello</p>
        <div id='webgl' style="height: 800px; width: 800px; background: lightgray;">
        <canvas id="webgl_canvas" /></div>
        <div id="slider"></div>
		<script>
			var mv = new MolecularViewer($('#webgl_canvas'))
			var coordinates = [[1.0, 0.0, 0.0],
			                   [0.0, 0.0, 0.0],
			                   [2.0, 2.0, 0.0]];

			var rep = new PointRepresentation(coordinates);
			mv.addRepresentation(rep);
			mv.animate();

    		$( "#slider" ).slider({
    			slide: function (event, ui) {

    				var changeFac = 0.1;
    				for (var i=0; i < coordinates.length; i++) {
    					coordinates[i][0] += changeFac * (Math.random() * 2 - 1);
    					coordinates[i][1] += changeFac * (Math.random() * 2 - 1);
    					coordinates[i][2] += changeFac * (Math.random() * 2 - 1);
    				}
    				rep.update(coordinates);
    				console.log('updated');
    				mv.render();
    			}
    		});
		</script>

	</body>
</html>